

■ユースケース
目的：
個人でWebサイトを運営する
運営者のみテキストデータのコンテンツを投稿できる

閲覧ユーザー数：
月間10名程度がアクセスする
将来的に閲覧ユーザーが増える可能性あり

収益性：
なし
コスト最小化を重視する

その他：
以下2案で比較検討する
①AWSのサービスのみを使用する場合
②AWS以外のサービスも使用する場合



■要件定義(何をするのか)

・機能要件
コンテンツ管理: 運営者のみが投稿、編集、削除可能
閲覧機能: アクセスユーザーがコンテンツを閲覧できる(ユーザー登録は不要)
認証機能: 運営者のみがアクセスできるログイン機能


・非機能要件
可用性：
ダウンタイムは最小限が望ましいが、24時間稼働は必須ではない

性能・拡張性：
最低限の性能を確保する(小規模トラフィック)
閲覧ユーザー増加に備えて、スケール可能な構成が望ましい

セキュリティ：
運営者のみが投稿できるように基本的な認証機能を実装
SSLを使用してデータの保護を行う

運用保守：
運用コストはできるだけ抑えたい
バックアップ取得は低頻度でよい



■基本設計(どう実現するのか)

フロントエンド
静的サイトホスティング

①
案１：S3
※HTTPSの使用にはCloudFrontが必要なためコスト増
案２：LightsailにApacheを導入(一旦採用)
※最低限の設定だけする

②
WordPressを導入しプラグインで対応

バックエンド
アプリケーションのホスティング

①②
Lightsail
※EC2よりコストが低く、月額固定で3.5USDのため採用


データベース
①
案１：Lightsailのデータベースオプション
※月額固定　15USD(min)

案２：Aurora DynamoDB（一旦採用）
※従量課金
※DB使用は基本的なCRUD操作のみのため、NoSQLでも対応可能

②
WordPress導入前提のため標準でMySQL利用可能


認証機能
①
Cognito
運営者専用の認証機能を実現

②
簡易だがWordPressに認証機能あり

セキュリティ
①②
Certificate Manager
SSL証明書を発行し、Lightsailに設定
HTTPSを使用してデータを保護



バックアップ
①②
Lightsailのバックアップ機能を使用する

②
案２：WordPressのプラグイン(BackWPup)で機能実装




■詳細設計
詳細設計書≒パラメータシート？
CloudFormationで作成するので、スタックテンプレートファイルを一旦成果物とする

case1.yamlを作成する

